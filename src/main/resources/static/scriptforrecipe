document.addEventListener("DOMContentLoaded", () => {
    const addIngredientButton = document.getElementById("add-ingredient");
    const ingredientsContainer = document.getElementById("ingredients-container");
    const createRecipeForm = document.getElementById("create-recipe");

    addIngredientButton.addEventListener("click", () => {
        const ingredientDiv = document.createElement("div");
        ingredientDiv.className = "ingredient";
        
        const ingredientInput = document.createElement("input");
        ingredientInput.type = "text";
        ingredientInput.className = "ingredient-input";
        ingredientInput.placeholder = "Ingredient";
        ingredientInput.required = true;
        
        ingredientDiv.appendChild(ingredientInput);
        ingredientsContainer.appendChild(ingredientDiv);
    });

    createRecipeForm.addEventListener("submit", (event) => {
        event.preventDefault();

        const recipeName = document.getElementById("recipe-name").value;
        const ingredientInputs = document.querySelectorAll(".ingredient-input");
        const ingredientInputs = document.querySelectorAll(".ingredient-input");


        const ingredients = [];
        ingredientInputs.forEach(input => {
            ingredients.push(input.value);
        });

        const recipeData = {
            recipe_name: recipeName,
            description: recipeDescription,
            ingredients: ingredients
        };

        console.log("Recipe Data:", recipeData);

        // Replace the following line with the actual AJAX call to send data to the server
        // fetch("/recipe", {
        //     method: "POST",
        //     headers: {
        //         "Content-Type": "application/json"
        //     },
        //     body: JSON.stringify(recipeData)
        // }).then(response => response.json())
        //   .then(data => console.log(data))
        //   .catch(error => console.error("Error:", error));
    });
});
